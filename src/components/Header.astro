---
interface Props {
    showHistoryBtn?: boolean;
    showLibraryBtn?: boolean;
    showApiBtn?: boolean;
    showGithubBtn?: boolean;
    showNavLinks?: boolean;
}

const {
    showHistoryBtn = false,
    showLibraryBtn = false,
    showApiBtn = false,
    showGithubBtn = false,
    showNavLinks = true,
} = Astro.props;

import LangSelect from "./LangSelect.astro";

const base = import.meta.env.BASE_URL;
---

<header>
    <a href={base} class="logo">
        <i class="fa-solid fa-bolt" style="color: var(--primary);"></i>
        Nano<span>Thumbnail</span>
    </a>
    <div class="header-actions">
        {
            showNavLinks && (
                <>
                    <nav class="desktop-nav">
                        <a href="#features" data-i18n="header.nav_features">
                            Fonctionnalités
                        </a>
                        <a href="#pricing" data-i18n="header.nav_pricing">
                            Prix
                        </a>
                        <a href="#faq" data-i18n="header.nav_faq">
                            FAQ
                        </a>
                    </nav>
                    <div class="divider" />
                </>
            )
        }
        <LangSelect />
        {
            showHistoryBtn && (
                <button
                    id="historyBtn"
                    class="btn btn-secondary"
                    data-action="toggleHistory"
                >
                    <i class="fa-solid fa-clock-rotate-left" />
                </button>
            )
        }
        {
            showLibraryBtn && (
                <button
                    id="libraryBtn"
                    class="btn btn-secondary"
                    data-action="toggleLibrary"
                    title="Bibliothèque"
                >
                    <i class="fa-solid fa-folder-open" />
                </button>
            )
        }
        {
            showApiBtn && (
                <button
                    id="apiBtn"
                    class="btn btn-secondary"
                    data-action="openSettings"
                >
                    <i class="fa-solid fa-gear" />{" "}
                    <span data-i18n="header.api_btn">API</span>
                </button>
            )
        }
    </div>
</header>

<style>
    header {
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid var(--border);
        background: rgba(10, 10, 15, 0.8);
        backdrop-filter: blur(10px);
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .logo {
        font-size: 1.5rem;
        font-weight: 700;
        color: white;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        text-decoration: none;
    }

    .logo span {
        color: var(--accent);
    }

    .header-actions {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .desktop-nav {
        display: flex;
        gap: 20px;
        margin-right: 1rem;
    }

    .desktop-nav a {
        color: var(--text-muted);
        text-decoration: none;
        font-size: 0.9rem;
        transition: color 0.3s ease;
    }

    .desktop-nav a:hover {
        color: #fff;
    }

    .divider {
        width: 1px;
        height: 24px;
        background: var(--border);
        margin-right: 1rem;
    }

    @media (max-width: 768px) {
        .desktop-nav,
        .divider {
            display: none;
        }
    }
</style>
